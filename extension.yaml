name: chatkitty
version: 1.0.1
specVersion: v1beta
license: Apache-2.0
billingRequired: true

displayName: ChatKitty
description: >-
  ChatKitty is a complete chat platform you can use to build real-time chat features in your app.
icon: icon.png
tags: [ chat, messaging, chatkitty ]

author:
  authorName: ChatKitty, Inc.
  email: developer@chatkitty.com
  url: https://chatkitty.com

sourceUrl: https://github.com/chatkitty/chatkitty-firebase-extension
releaseNotesUrl: https://github.com/chatkitty/chatkitty-firebase-extension/blob/main/CHANGELOG.md

resources:
  - name: handleCreateUser
    type: firebaseextensions.v1beta.function
    description: >-
      Listens for user accounts to be created in your Firebase project and creates a ChatKitty user for each new user.
    properties:
      runtime: nodejs18
      eventTrigger:
        eventType: providers/firebase.auth/eventTypes/user.create
        resource: projects/${PROJECT}

  - name: handleSignInUser
    type: firebaseextensions.v1beta.function
    description: >-
      Listens for user accounts to sign in in your Firebase project and creates a ChatKitty user for each new user.
    properties:
      runtime: nodejs18
      eventTrigger:
        eventType: providers/firebase.auth/eventTypes/user.signIn
        resource: projects/${PROJECT}

  - name: handleDeleteUser
    type: firebaseextensions.v1beta.function
    description: >-
      Listens for user accounts to be deleted in your Firebase project and deletes the corresponding ChatKitty user.
    properties:
      runtime: nodejs18
      eventTrigger:
        eventType: providers/firebase.auth/eventTypes/user.delete
        resource: projects/${PROJECT}

params:
  - param: CLIENT_ID
    label: ChatKitty Client ID
    description: >-
      Your ChatKitty Client ID. You can find this in your ChatKitty console.
    type: string
    required: true
    immutable: true

  - param: CLIENT_SECRET
    label: ChatKitty Client Secret
    description: >-
      Your ChatKitty Client Secret. You can find this in your ChatKitty console.
    type: secret
    required: true
    immutable: true
